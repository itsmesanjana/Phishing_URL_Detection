<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phishing Detection System</title>
    <link rel="stylesheet" href="templates\style.css">
    <style>
        body {
    font-family: 'Arial', sans-serif;
    margin: 0;
    padding: 0;
    background-color: #f0f2f5;
    color: #333;
    transition: background-color 0.3s ease, color 0.3s ease;
}

/* Header */
header {
    background-color:#fff;;
    color: #fff;
    padding: 20px 0;
    text-align: center;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    font-size: 1.8em;
}

/* Main Container */
main {
    padding: 50px 20px;
    max-width: 900px;
    margin: 0 auto;
}

/* Section Containers */
.form-section, .result-section {
    background-color: #ffffff;
    padding: 35px;
    margin-bottom: 25px;
    border-radius: 12px;
    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.1);
    transition: box-shadow 0.3s ease;
}

.form-section:hover, .result-section:hover {
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
}

/* Headings */
h1, h2 {
    color: #2e3a59;
    margin-bottom: 15px;
    font-weight: bold;
}

h3 {
    color: #636e8b;
    margin-bottom: 10px;
    font-weight: normal;
}

/* Container */
.container {
    max-width: 850px;
    margin: 0 auto;
    padding: 20px;
}

/* List Styles */
ul {
    list-style-type: disc;
    padding-left: 20px;
}

li {
    margin-bottom: 10px;
    color: #424242;
    font-size: 1.05em;
}

/* Labels and Inputs */
label {
    display: block;
    margin-bottom: 8px;
    font-size: 1.1em;
    color: #3a3f58;
    font-weight: bold;
}

input[type="text"] {
    width: 100%;
    padding: 12px;
    margin-bottom: 25px;
    border: 1px solid #cdd4e0;
    border-radius: 8px;
    background-color: #f9fbfd;
    font-size: 1.05em;
    transition: border-color 0.3s ease;
}

input[type="text"]:focus {
    border-color: #5c6bc0;
    outline: none;
    box-shadow: 0 0 8px rgba(92, 107, 192, 0.3);
}

/* Buttons */
button {
    background-color: #5c6bc0;
    color: #fff;
    padding: 12px 30px;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-size: 1.1em;
    transition: background-color 0.3s ease, transform 0.2s ease;
    margin-top: 10px;
    box-shadow: 0 4px 12px rgba(92, 107, 192, 0.3);
}

button:hover {
    background-color: #3f51b5;
    transform: scale(1.05);
}

button:active {
    background-color: #283593;
    transform: scale(0.98);
}

/* Footer */
footer {
    background-color: #3a3f58;
    color: #ffffff;
    text-align: center;
    padding: 15px 0;
    position: fixed;
    width: 100%;
    bottom: 0;
    font-size: 0.9em;
}

/* Hidden Elements */
.hidden {
    display: none;
}

/* Result Section */
.result-section p {
    font-size: 1.2em;
    color: #5c6bc0;
}

.result-section p strong {
    color: #d32f2f;
}

.reasons {
    margin-top: 20px;
    font-size: 1em;
    color: #d32f2f;
    font-weight: bold;
}

/* Navigation Buttons */
.nav-buttons {
    margin-top: 20px;
    text-align: center;
}

.nav-buttons button {
    margin: 0 10px;
}

/* Feedback Section */
#feedback-section {
    margin-top: 25px;
    border-top: 1px solid #e0e0e0;
    padding-top: 15px;
}

/* Feedback Form */
#feedback-section form {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

/* Responsive Adjustments */
@media (max-width: 768px) {
    main {
        padding: 20px;
    }

    button {
        width: 100%;
        margin-bottom: 10px;
    }

    .nav-buttons button {
        width: 100%;
        margin: 10px auto;
    }
}
    </style>
</head>
<body>
    <header>
        <h1>Phishing URL Detection System</h1>
    </header>
    <main>
        <section id="home" class="form-section">
            <h2>Check URL</h2>
            <form onsubmit="checkUrl(event)">
                <label for="url">Enter URL:</label>
                <input type="text" id="url" name="url" required>
                <button type="submit">Check</button>
            </form>
            <section>
                <div class="container">
                    <h1>About Phishing URLs</h1>
                
                    <h2>What Are Phishing URLs?</h2>
                    <p>Phishing URLs are malicious web addresses designed to appear legitimate but actually lead to fraudulent websites. These URLs often mimic the appearance of well-known websites, using subtle changes in the domain name or structure to deceive users.</p>
                
                    <h2>Common Features of Phishing URLs:</h2>
                    <ul>
                        <li><strong>IP Address Instead of Domain Name</strong>: Phishing URLs may use an IP address (e.g., <code>http://192.168.1.1</code>) instead of a domain name to hide their true identity.</li>
                        <li><strong>URL Shorteners</strong>: Attackers often use URL shortening services (like bit.ly or tinyurl.com) to obscure the true destination of the link.</li>
                        <li><strong>Misleading Subdomains</strong>: Phishing URLs may include subdomains that appear legitimate (e.g., "paypal.com.login.xyz.com") to trick users into thinking they are visiting a trusted site.</li>
                        <li><strong>Unusual or Long URLs</strong>: Phishing URLs may be unusually long or contain random strings of characters in an attempt to confuse or mislead users.</li>
                        <li><strong>HTTPS Misuse</strong>: Although "HTTPS" indicates a secure connection, phishing sites may still use HTTPS to appear more legitimate.</li>
                    </ul>
                
                    <h2>Why Phishing Detection is Important:</h2>
                    <p>Phishing attacks can lead to severe consequences, including identity theft, financial loss, and unauthorized access to sensitive information. Detecting and blocking phishing URLs is crucial in protecting users from falling victim to these types of attacks.</p>
                
                    <h2>How Our Phishing Detection System Works:</h2>
                    <p>Our phishing detection system uses machine learning techniques to analyze various features of URLs and determine whether they are likely to be phishing. By examining factors such as the URL structure, domain registration details, and the presence of certain keywords or symbols, our system can effectively identify and block potentially harmful URLs.</p>
                
                    <h2>Indicators of Phishing URLs:</h2>
                    <ul>
                        <li><strong>Domain has multiple subdomains:</strong> This often suggests a phishing attempt as attackers use multiple subdomains to make the URL look legitimate.</li>
                        <li><strong>Non-standard port detected:</strong> Most legitimate websites use standard ports like 80 (HTTP) and 443 (HTTPS). A non-standard port can be a red flag for phishing.</li>
                        <li><strong>Abnormal URL detected:</strong> Irregularities in the URL structure or unexpected characters can indicate a phishing site.</li>
                        <li><strong>Unable to determine the domain age:</strong> Phishing sites are often new or obscure. If the domain age cannot be determined, it might be suspicious.</li>
                        <li><strong>DNS record not found:</strong> A missing DNS record can indicate that the domain is not properly registered or is temporarily active only for phishing.</li>
                    </ul>
                
                    <h2>Stay Safe Online:</h2>
                    <p>Always be cautious when clicking on links, especially in unsolicited emails or messages. Verify the authenticity of the website before entering any personal information. Our phishing detection tool is here to help, but staying vigilant is the best defense against phishing attacks.</p>
                </div>
                
            </section>
        </section>

        <section id="result" class="result-section hidden">
            <h2>Phishing Detection Result</h2>
            <p><strong>Result:</strong> <span id="result-text"></span></p>
            <p><strong>URL:</strong> <span id="result-url"></span></p>
            <div id="reasons" class="reasons"></div>
            <div class="nav-buttons">
                <button id="block-btn" class="hidden" onclick="blockSite()">Block This Site</button>
                <button id="redirect-btn" class="hidden" onclick="redirectToSite()">Proceed to Site</button>
                <button onclick="showSection('home'); clearInput()">Check Another URL</button>
            </div>
        </section>
        <div id="feedback-section">
            <h3>Was this URL detected correctly?</h3>
            <form>
                <label>
                  <input type="radio" name="feedback" value="good"> Good
                </label>
                <label>
                  <input type="radio" name="feedback" value="bad"> Bad
                </label>
                <label>
                  <input type="radio" name="feedback" value="neutral"> Neutral
                </label>
                
                <input type="text" id="feedback-reason" placeholder="Reason for your feedback">
                <input type="text" id="url-input" placeholder="Enter the URL">
              
                <button type="button" onclick="submitFeedback()">Submit Feedback</button>
              </form>
              
          </div>
    </main>
    <hr>
    <hr>
    <footer>
        <p>&copy; 2024 Phishing Detection System. All rights reserved.</p>
    </footer>
</body>
<script>
    function showSection(section) {
    document.getElementById('home').classList.add('hidden');
    document.getElementById('result').classList.add('hidden');
    document.getElementById(section).classList.remove('hidden');
}

function showResult(result, url, reasons) {
    document.getElementById('result-text').innerText = result;
    document.getElementById('result-url').innerText = url;

    const reasonsList = document.getElementById('reasons');
    reasonsList.innerHTML = '';
    if (reasons && reasons.length > 0) {
        reasonsList.innerHTML = `<h3>Reasons:</h3><ul>${reasons.map(reason => `<li>${reason}</li>`).join('')}</ul>`;
    }

    if (result.toLowerCase() === 'phishing') {
        document.getElementById('block-btn').classList.remove('hidden');
        document.getElementById('redirect-btn').classList.add('hidden');
    } else {
        document.getElementById('block-btn').classList.add('hidden');
        document.getElementById('redirect-btn').classList.remove('hidden');
    }

    showSection('result');
}

async function checkUrl(event) {
    event.preventDefault();
    const url = document.getElementById('url').value;

    const response = await fetch('/predict', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/x-www-form-urlencoded',
            'Access-Control-Allow-Origin': '*'
        },
        body: `url=${encodeURIComponent(url)}`
    });

    const data = await response.json();
    showResult(data.result, data.url, data.reasons);
}

async function blockSite() {
    const response = await fetch('/block', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/x-www-form-urlencoded'
        }
    });

    const data = await response.json();
    if (data.blocked) {
        alert('This site has been blocked!');
    } else {
        alert('Failed to block the site!');
    }
    showSection('home');
    clearInput();
}

function redirectToSite() {
    const url = document.getElementById('result-url').innerText;
    window.location.href = url;
}

function clearInput() {
    document.getElementById('url').value = '';
    document.getElementById('result-text').innerText = '';
    document.getElementById('result-url').innerText = '';
    document.getElementById('reasons').innerHTML = '';
}
function submitFeedback() {
// Try to find the selected radio button for feedback
const feedbackInput = document.querySelector('input[name="feedback"]:checked');

// Check if a radio button is selected
if (!feedbackInput) {
alert("Please select your feedback.");
return; // Stop the function execution if no feedback is selected
}

const feedback = feedbackInput.value; // Now safe to access the value
const reason = document.getElementById('feedback-reason').value;
const url = document.getElementById('url-input').value; // Assuming URL input field has id='url-input'

// Send feedback to the backend via an API call
fetch('/submit-feedback', {
method: 'POST',
headers: {
    'Content-Type': 'application/json',
},
body: JSON.stringify({
    url: url,
    feedback: feedback,
    reason: reason,
}),
})
.then(response => response.json())
.then(data => {
alert("Thank you for your feedback!");
})
.catch(error => {
console.error('Error submitting feedback:', error);
});
}


</script>
</html>